<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>🏦 Loan Default Prediction Challenge | Shane van Heerden</title> <meta name="author" content="Shane van Heerden"> <meta name="description" content="How I developed a machine learning model that could accurately predict who would default on their loan"> <meta name="keywords" content="machine-learning-engineer, data-scientist, phd, machine-learning, data-science, natural-language-processing, nlp, data-engineering, deep-learning, artificial-intelligence, ai"> <meta property="og:site_name" content="Shane van Heerden"> <meta property="og:type" content="website"> <meta property="og:title" content="Shane van Heerden | 🏦 Loan Default Prediction Challenge"> <meta property="og:url" content="https://shanevanheerden.github.io/blog/2020/loan_default_prediction_challenge/"> <meta property="og:description" content="How I developed a machine learning model that could accurately predict who would default on their loan"> <meta property="og:image" content="/assets/img/shane.jpg"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="🏦 Loan Default Prediction Challenge"> <meta name="twitter:description" content="How I developed a machine learning model that could accurately predict who would default on their loan"> <meta name="twitter:image" content="/assets/img/shane.jpg"> <script type="application/ld+json">
      {
        "author":
        {
          "@type": "Person",
          "name": "Shane  van Heerden"
        },
        "url": "https://shanevanheerden.github.io/blog/2020/loan_default_prediction_challenge/",
        "@type": "WebSite",
        "description": "How I developed a machine learning model that could accurately predict who would default on their loan",
        "headline": "🏦 Loan Default Prediction Challenge",
        "sameAs": ["https://github.com/shanevanheerden", "https://www.linkedin.com/in/shaneandrewvanheerden"],
        "name": "Shane  van Heerden",
        "@context": "https://schema.org"
      }
    </script> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://shanevanheerden.github.io/blog/2020/loan_default_prediction_challenge/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}</style> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "🏦 Loan Default Prediction Challenge",
      "description": "How I developed a machine learning model that could accurately predict who would default on their loan",
      "published": "January 25, 2020",
      "authors": [
        {
          "author": "Shane van Heerden",
          "authorURL": "",
          "affiliations": [
            {
              "name": "Cape AI",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Shane </span>van Heerden</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">👋 about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">📝 blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/news/">🗞️ news</a> </li> <li class="nav-item "> <a class="nav-link" href="/skills/">🎓 skills</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">🗂 projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">📚 publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/hobbies/">🎨 hobbies</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">📄 cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>🏦 Loan Default Prediction Challenge</h1> <p>How I developed a machine learning model that could accurately predict who would default on their loan</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#1-the-problem">1. The problem</a></div> <div><a href="#2-the-data">2. The data</a></div> <div><a href="#3-methodology">3. Methodology</a></div> <div><a href="#4-data-exploration">4. Data exploration</a></div> <div><a href="#5-predictive-model-results">5. Predictive model results</a></div> <div><a href="#6-conclusion">6. Conclusion</a></div> </nav> </d-contents> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.1-1400.webp"></source> <img src="/assets/img/blog/blog8.1.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>I recently took part in the <a href="https://zindi.africa/competitions/data-science-nigeria-challenge-1-loan-default-prediction" rel="external nofollow noopener" target="_blank">Load Default Prediction Challenge</a> on Zindi. In this blog post, I’m going to provide you with a detailed description of the analysis I conducted, together with the final recommendations I provided with regards to the types of customers who are more and less likely to default on their loans.</p> <h2 id="1-the-problem">1. The problem</h2> <p>SuperLender is a local digital lending company who prides themselves in delivering profitable and high-impact loan alternatives to the people of Nigeria. The company has approached the Zindi community to develop an effective credit risk model to predict the odds that a returning customer will repay their loan. More specifically, they recommended that the approach should be based on two main risk drivers of loan default prediction: (1) The willingness and (2) the ability of a customer to pay back their loan.</p> <hr> <h2 id="2-the-data">2. The data</h2> <p>SuperLender provided us with three separate sets of data namely: (1) Performance data, (2) previous loans data and (3) demographic data. A breakdown of the features, data types and descriptions for the performance, previous loans and demographics datasets are provided in Tables 1, 2 and 3, respectively. The performance dataset contains repeat loans taken by customers and contains a binary feature <code class="language-plaintext highlighter-rouge">good_bad_flag</code> indicating whether the customer settled their loan on time or not — this feature serves at the target variable. The previous loans dataset contains all previous loans that a customer in the performance dataset took out prior to the loan. And finally, the demographics dataset contains demographic information corresponding to each customer in the performance dataset. All three of the aforementioned datasets are related <em>via</em> the <code class="language-plaintext highlighter-rouge">customer_id</code> key.</p> <div class="caption"> <em>Table 1:</em> The features, data types and descriptions of the performance dataset. </div> <table> <tr> <th>#</th> <th>Feature name</th> <th>Data type</th> <th>Description</th> </tr> <tr> <td>1</td> <td><code>customer_id</code></td> <td>Meta</td> <td>Primary key</td> </tr> <tr> <td>2</td> <td><code>system_loan_id</code></td> <td>Meta</td> <td>The ID associated with the particular loan</td> </tr> <tr> <td>3</td> <td><code>loan_number</code></td> <td>Continuous</td> <td>The number of the loan</td> </tr> <tr> <td>4</td> <td><code>approved_date</code></td> <td>Timestamp</td> <td>Date that loan was approved</td> </tr> <tr> <td>5</td> <td><code>creation_date</code></td> <td>Timestamp</td> <td>Date that loan application was created</td> </tr> <tr> <td>6</td> <td><code>loan_amount</code></td> <td>Continuous</td> <td>Loan value taken</td> </tr> <tr> <td>7</td> <td><code>total_due</code></td> <td>Continuous</td> <td>Total repayment required to settle the loan</td> </tr> <tr> <td>8</td> <td><code>term_days</code></td> <td>Continuous</td> <td>Term of loan</td> </tr> <tr> <td>9</td> <td><code>referred_by</code></td> <td>Meta</td> <td>The <code>customer_id</code> of the referral customer</td> </tr> <tr> <td>10</td> <td><code>good_bad_flag</code></td> <td>Categorical</td> <td>Whether the customer settled their loan on time or not</td> </tr> </table> <div class="caption"> <em>Table 2:</em> The features, data types and descriptions of the previous loans dataset. </div> <table> <tr> <th>#</th> <th>Feature name</th> <th>Data type</th> <th>Description</th> </tr> <tr> <td>1</td> <td><code>customer_id</code></td> <td>Meta</td> <td>Primary key</td> </tr> <tr> <td>2</td> <td><code>system_loan_id</code></td> <td>Meta</td> <td>The ID associated with the particular loan</td> </tr> <tr> <td>3</td> <td><code>loan_number</code></td> <td>Continuous</td> <td>The number of the loan</td> </tr> <tr> <td>4</td> <td><code>approved_date</code></td> <td>Timestamp</td> <td>Date that loan was approved</td> </tr> <tr> <td>5</td> <td><code>creation_date</code></td> <td>Timestamp</td> <td>Date that loan application was created</td> </tr> <tr> <td>6</td> <td><code>loan_amount</code></td> <td>Continuous</td> <td>Loan value taken</td> </tr> <tr> <td>7</td> <td><code>total_due</code></td> <td>Continuous</td> <td>Total repayment required to settle the loan</td> </tr> <tr> <td>8</td> <td><code>closed_date</code></td> <td>Timestamp</td> <td>Date that the loan was settled</td> </tr> <tr> <td>9</td> <td><code>referred_by</code></td> <td>Meta</td> <td>The <code>customer_id</code> of the referral customer</td> </tr> <tr> <td>10</td> <td><code>first_due_date</code></td> <td>Timestamp</td> <td>Date of first payment due</td> </tr> <tr> <td>11</td> <td><code>first_repaid_date</code></td> <td>Timestamp</td> <td>Actual date that customer paid the first payment</td> </tr> </table> <div class="caption"> <em>Table 3:</em> The features, data types and descriptions of the demographics dataset. </div> <table> <tr> <th>#</th> <th>Feature name</th> <th>Data type</th> <th>Description</th> </tr> <tr> <td>1</td> <td><code>customer_id</code></td> <td>Meta</td> <td>Primary key</td> </tr> <tr> <td>2</td> <td><code>birth_date</code></td> <td>Timestamp</td> <td>Date of birth of the customer</td> </tr> <tr> <td>3</td> <td><code>bank_account_type</code></td> <td>Categorical</td> <td>Type of primary bank account</td> </tr> <tr> <td>4</td> <td><code>longitude_gps</code></td> <td>Continuous</td> <td>Longitude of customer</td> </tr> <tr> <td>5</td> <td><code>latitude_gps</code></td> <td>Continuous</td> <td>Latitude of customer</td> </tr> <tr> <td>6</td> <td><code>bank_name_clients</code></td> <td>Categorical</td> <td>Name of customer's bank</td> </tr> <tr> <td>7</td> <td><code>bank_branch_clients</code></td> <td>Categorical</td> <td>Location of customer's branch</td> </tr> <tr> <td>8</td> <td><code>employment_status_clients</code></td> <td>Categorical</td> <td>Customer's type of employment</td> </tr> <tr> <td>9</td> <td><code>level_of_education_clients</code></td> <td>Categorical</td> <td>Customer's highest level of education</td> </tr> </table> <hr> <h2 id="3-methodology">3. Methodology</h2> <p>This section contains a description of the methodology followed during this investigation. The section opens in §3.1 with a description of the features constructed in order to draw more information from the three sets of data. This is followed, in §3.2, by an elucidation of the data mining architecture constructed for the purpose of this analysis.</p> <h3 id="31-feature-engineering">3.1. Feature engineering</h3> <p>Arguably, the most involved and important tasks in the data mining process is that of feature engineering which requires the data scientist to construct informative features based on one or more feature(s) currently present in the data <d-cite key="Ng2012"></d-cite>. The features manually constructed for the purpose of predicting whether a SuperLender customer will default on their loan is described in this subsection.</p> <p>In the previous loans dataset, the number of days a customer’s loan was over/under the days stipulated by the loan’s term is defined mathematically as</p> <p>\begin{equation} \mbox{days_over_under}=\mbox{close_date}-(\mbox{approve_date}+\mbox{term_days}).\label{daysoverunder} \end{equation}</p> <p>The expression in (\ref{daysoverunder}) is used as a basis to construct the first new feature <code class="language-plaintext highlighter-rouge">default_loan</code> in the previous loans dataset indicating whether the customer had defaulted on their loan, defined mathematically as</p> <p>\begin{equation} \mbox{default_loan}=0\mbox{ if days_over_under}\leq 0\mbox{ otherwise }1.\label{3.eqn.defaultloan} \end{equation}</p> <p>The expression in (\ref{3.eqn.defaultloan}) is also used to construct a second feature <code class="language-plaintext highlighter-rouge">days_over</code> in the previous loans dataset indicating the number of days a customer took to pay the loan after the agreed term days, defined mathematically as</p> <p>\begin{equation} \mbox{days_over}=\mbox{default_loan}\times\mbox{days_over_under},\label{3.eqn.daysover} \end{equation}</p> <p>In the performance dataset, the result computed in (\ref{3.eqn.defaultloan}) is then used to construct a new feature <code class="language-plaintext highlighter-rouge">prev_default_loan</code> $={\tt SUM}($ <code class="language-plaintext highlighter-rouge">default_loan</code> $)$ in the performance dataset indicating the total number of loans a customer has previously defaulted on. The result computed in (\ref{3.eqn.daysover}) is then used to construct a new feature <code class="language-plaintext highlighter-rouge">prev_days_over</code> $={\tt SUM}($ <code class="language-plaintext highlighter-rouge">days_over</code> $)$ in the performance dataset indicating the total days a customer has exceeded their payment terms on past loans. A feature <code class="language-plaintext highlighter-rouge">prop_default_loan</code> is also constructed in the performance dataset indicating the proportion of loans a customer has previously defaulted on, defined mathematically as</p> <p>\begin{equation} \mbox{prop_default_loan}=\frac{\mbox{prev_default_loan}}{\mbox{loan_number}-1},\label{3.eqn.propdefaultloan} \end{equation}</p> <p>where <code class="language-plaintext highlighter-rouge">prev_default_loan</code> $={\tt SUM}($ <code class="language-plaintext highlighter-rouge">default_loan</code> $)$ is a new feature indicating the total number of loans a customer has previously defaulted on and $\mbox{loan_number}$ is the loan number of the current loan. The interest rate charged to each customer is defined mathematically as</p> <p>\begin{equation} \mbox{interest_per_day}=\frac{\mbox{total_due}-\mbox{loan_amount}}{\mbox{term_days}}.\label{3.eqn.interestperday} \end{equation}</p> <p>The result computed in (\ref{3.eqn.interestperday}) is used as a basis to construct a new feature <code class="language-plaintext highlighter-rouge">prop_interest_per_day</code> in the performance loans dataset indicating the proportion of customer’s interest rate on their current and previous loans, defined mathematically as</p> <p>\begin{equation} \mbox{prop_interest_per_day}=\frac{\mbox{interest_per_day}-\mbox{prev_interest_per_day}}{\mbox{prev_interest_per_day}},\label{3.eqn.propinterestperday} \end{equation}</p> <p>where <code class="language-plaintext highlighter-rouge">prev_interest_per_day</code> $={\tt AVG}($ <code class="language-plaintext highlighter-rouge">interest_per_day</code> $)$ is a new feature indicating the average interest rate charged to a customer on their previous loans. In the same way, a new feature <code class="language-plaintext highlighter-rouge">prop_term_days</code> is constructed in the performance dataset indicating the proportion of customer’s loan terms on their current and previous loans, defined mathematically as</p> <p>\begin{equation} \mbox{prop_term_days}=\frac{\mbox{term_days}-\mbox{prev_term_days}}{\mbox{prev_term_days}},\label{3.eqn.proptermdays} \end{equation}</p> <p>where <code class="language-plaintext highlighter-rouge">prev_term_days</code> $={\tt AVG}($ <code class="language-plaintext highlighter-rouge">term_days</code> $)$ is a new feature indicating the average term days offered to the customer on their previous loans. And finally, a new feature <code class="language-plaintext highlighter-rouge">prop_loan_amount</code> is constructed to indicate the proportion of customer’s loan amount on their current and previous loans, defined mathematically as</p> <p>\begin{equation} \mbox{prop_loan_amount}=\frac{\mbox{loan_amount}-\mbox{prev_loan_amount}}{\mbox{prev_loan_amount}},\label{3.eqn.proploanamount} \end{equation}</p> <p>where <code class="language-plaintext highlighter-rouge">prev_loan_amount</code>$={\tt AVG}($ <code class="language-plaintext highlighter-rouge">loan_amount</code> $)$ is a new feature indicating a customer’s average previous loan amounts.</p> <p>In the demographics dataset, a new feature <code class="language-plaintext highlighter-rouge">age</code> is constructed indicating the age of the customer in years, defined mathematically as</p> <p>\begin{equation} \mbox{age}=\mbox{now}-\mbox{birthdate},\label{3.eqn.age} \end{equation}</p> <p>where <code class="language-plaintext highlighter-rouge">now</code> indicates the current time in years.</p> <h3 id="32-data-mining-architecture">3.2. Data mining architecture</h3> <p>A data mining solution was built in the Orange Data Mining Software <d-cite key="Demsar2013"></d-cite> using multiple pre-built <em>widgets</em>, and is illustrated in Figure 1. The training and testing performance, previous loans and demographics data sets are first imported and categorised according to the data types specified in Tables 1, 2 and 3, respectively. Given the performance data, these datasets are first formatted and concatenated into a single dataset using Widgets A1 and A2, respectively, and are passed to Widget A3. The <code>interest_per_day</code> feature is then computed according to expression (\ref{3.eqn.interestperday}) using Widget A3 and are passed to Widget A4. The <code class="language-plaintext highlighter-rouge">term_days</code>, <code class="language-plaintext highlighter-rouge">loan_number</code>, <code class="language-plaintext highlighter-rouge">loan_amount</code> and <code class="language-plaintext highlighter-rouge">interest_per_day</code>, <code class="language-plaintext highlighter-rouge">good_bad_flag</code> and <code class="language-plaintext highlighter-rouge">customer_id</code> features are then selected in Widget A4 and are passed to Widget C1.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.2-1400.webp"></source> <img src="/assets/img/blog/blog8.2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 1:</em> The data mining solution built in the Orange Data Mining Software. </div> <p>Given the training and testing previous loans data, these datasets are first formatted and concatenated into a single dataset using Widgets B1 and B2, respectively, and are passed to Widget B3. The <code class="language-plaintext highlighter-rouge">default_loan</code>, <code class="language-plaintext highlighter-rouge">days_over</code> and <code class="language-plaintext highlighter-rouge">interest_per_day</code> features are then computed according to expressions (\ref{3.eqn.defaultloan}), (\ref{3.eqn.daysover}) and (\ref{3.eqn.interestperday}), respectively, using Widget B3 and are passed to Widget B4. The <code class="language-plaintext highlighter-rouge">days_over</code>, <code class="language-plaintext highlighter-rouge">default_loan</code>, <code class="language-plaintext highlighter-rouge">loan_amount</code> and <code class="language-plaintext highlighter-rouge">term_days</code>, <code class="language-plaintext highlighter-rouge">interest_per_day</code> and <code class="language-plaintext highlighter-rouge">customer_id</code> features are then selected in Widget B4 and passed to Widget B5. Widget B5 is a Python script used to group the multiple previous loan records associated with each <code class="language-plaintext highlighter-rouge">customer_id</code> into a single representative record which are then passed to Widget B6. In this script, the <code class="language-plaintext highlighter-rouge">days_over</code> and <code class="language-plaintext highlighter-rouge">defaulted_loan</code> features are summed, while the <code class="language-plaintext highlighter-rouge">loan_amount</code>, <code class="language-plaintext highlighter-rouge">term_days</code> and <code class="language-plaintext highlighter-rouge">interest_per_day</code> features are averaged. In Widget B6, the <code class="language-plaintext highlighter-rouge">days_over</code>, <code class="language-plaintext highlighter-rouge">defaulted_loan</code>, <code class="language-plaintext highlighter-rouge">loan_amount</code>, <code class="language-plaintext highlighter-rouge">term_days</code> and <code class="language-plaintext highlighter-rouge">interest_per_day</code> features are renamed to <code class="language-plaintext highlighter-rouge">prev_days_over</code>, <code class="language-plaintext highlighter-rouge">prev_defaulted_loan</code>, <code class="language-plaintext highlighter-rouge">prev_loan_amount</code>, <code class="language-plaintext highlighter-rouge">prev_term_days</code> and <code class="language-plaintext highlighter-rouge">prev_interest_per_day</code>, respectively, and are passed to Widget C1.</p> <p>The previous loans data is now merged to the performance data using Widget C1 and are passed to Widget C2. The <code class="language-plaintext highlighter-rouge">prop_default_loan</code>, <code class="language-plaintext highlighter-rouge">prop_interest_per_day</code>, <code class="language-plaintext highlighter-rouge">prop_term_days</code> and <code class="language-plaintext highlighter-rouge">prop_loan_amount</code> features are then computed according to expressions (\ref{3.eqn.propdefaultloan}), (\ref{3.eqn.propinterestperday}), (\ref{3.eqn.proptermdays}) and (\ref{3.eqn.proploanamount}), respectively, using Widget C2 and are passed to Widget C3. As this stage, any missing values are filled in using Widget C3 by employing a model-based imputing strategy, where a <em>Random Forest</em> (RF) learning model is used predict the values of missing data points based on the values of a corresponding record.</p> <p>Given the training and testing demographics data, these datasets are first formatted and concatenated into a single dataset using Widgets D1 and D2, respectively, and are passed to Widget D3. In Widget D3, the <code class="language-plaintext highlighter-rouge">employment_status_clients</code> and <code class="language-plaintext highlighter-rouge">level_of_education_clients</code> are imputed based on the highest category frequency and are passed to Widget D4. The <code class="language-plaintext highlighter-rouge">age</code> feature is then computed according to expression (\ref{3.eqn.age}) using Widget D4 and are passed to Widget D5. The <code class="language-plaintext highlighter-rouge">age</code>, <code class="language-plaintext highlighter-rouge">bank_account_type</code>, <code class="language-plaintext highlighter-rouge">bank_name_clients</code>, <code class="language-plaintext highlighter-rouge">employment_status_clients</code> and <code class="language-plaintext highlighter-rouge">level_of_eduction_clients</code> and <code class="language-plaintext highlighter-rouge">customer_id</code> features are then selected in Widget D5 and are passed to Widget E1.</p> <p>Widget E1 is a Python script used to merge the demographics data to the performance data which is then passed to Widget E2. The <code class="language-plaintext highlighter-rouge">term_days</code>, <code class="language-plaintext highlighter-rouge">loan_amount</code>, <code class="language-plaintext highlighter-rouge">interest_per_day</code>, <code class="language-plaintext highlighter-rouge">prev_days_over</code>, <code class="language-plaintext highlighter-rouge">prop_default_loan</code>, <code class="language-plaintext highlighter-rouge">prop_interest_per_day</code>, <code class="language-plaintext highlighter-rouge">prop_term_days</code>, <code class="language-plaintext highlighter-rouge">prop_loan_amount</code>, <code class="language-plaintext highlighter-rouge">age</code>, <code class="language-plaintext highlighter-rouge">bank_account_type</code>, <code class="language-plaintext highlighter-rouge">bank_name_clients</code>, <code class="language-plaintext highlighter-rouge">employment_status_clients</code> and <code class="language-plaintext highlighter-rouge">level_of_eduction_clients</code> and <code class="language-plaintext highlighter-rouge">customer_id</code> features features are then selected in Widget E2 and are passed to Widget E3. Any missing values are again filled in using Widget E3 <em>via</em> a RF model-based imputation method.</p> <p>The dataset is then partitioned into the training and testing dataset in Widgets F1 and F4, respectively. A set of learning models are then tested and scored in Widget F3 by employing a $k$-fold cross validation splitting criterion. The best learning model is then used in Widget F4 to predict the classes of the testing dataset. Widget F6 may finally be employed to produce a rule formulation for a specified learning model.</p> <hr> <h2 id="4-data-exploration">4. Data exploration</h2> <p>This section is dedicated to exploring the data used and produced by the data mining architecture described in §3.2. Data distribution, spatial and temporal analyses are conducted in §4.1, §4.2 and §4.3, respectively, in order to draw some preliminary insights from the data supplied from SuperLender which may better guide the predictive modelling component of this investigation.</p> <h3 id="41-data-distribution-analysis">4.1. Data distribution analysis</h3> <p>As may be seen in Figure 2(a), a higher proportion of customers who take out smaller loans (less than $20\,000$ Nigerian naira) end up defaulting on their loan. A higher proportion of customers who are charged higher rates of interest per day are also more likely to default on their loan, as illustrated in Figure 2(b). It is also interesting to note that a higher proportion of retired, student and unemployed customers default on their loans, as may be seen in Figur 2(c). And finally, a low proportion of customers banking with Standard Bank and Wema Bank default on their loans while the opposite is true for customers banking with Sterling Bank or Skye Bank.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.3-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.3-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.3-1400.webp"></source> <img src="/assets/img/blog/blog8.3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(a)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.4-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.4-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.4-1400.webp"></source> <img src="/assets/img/blog/blog8.4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(b)</center> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.5-1400.webp"></source> <img src="/assets/img/blog/blog8.5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(c)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.6-1400.webp"></source> <img src="/assets/img/blog/blog8.6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(d)</center> </div> </div> <div class="caption"> <em>Figure 2:</em> Proportion bar plots showing (a) the loan amount, (b) the interest on loan per day, (c) the employment status and (d) the bank name of SuperLender customers. </div> <p>Moreover, the target variable contains a significantly less customers that have defaulted on their loans than those who have paid their loans. Due to this significantly disproportionate representation among target variable classes, the <em>Area Under the Curve</em> (AUC) (more specifically, the <em>Receiver Operating Characteristic</em> (ROC)) should be employed as an appropriate predictive modelling metric since it is robust against class imbalances.</p> <h3 id="42-spatial-analysis">4.2. Spatial analysis</h3> <p>The highest concentration of SuperLender customers are located in the state of Lagos, as may be seen in Figure 3(a), while older customers are typically located in the Zamfara, Jigawa, Yobe and Taraba states, as illustrated in Figure 3(b). As may be seen in Figure 3(c), the highest average loan amounts are observed from customers living in the Kebbi, Yobe and Adamawa states while the largest proportion of customers who default on their loans are located in the Ogun, Lagos, Osun, Ekiti, Ondo, Edo and Nassarawa states, as illustrated in Figure 3(d).</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.7-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.7-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.7-1400.webp"></source> <img src="/assets/img/blog/blog8.7.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(a)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.8-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.8-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.8-1400.webp"></source> <img src="/assets/img/blog/blog8.8.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(b)</center> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.9-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.9-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.9-1400.webp"></source> <img src="/assets/img/blog/blog8.9.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(c)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.10-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.10-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.10-1400.webp"></source> <img src="/assets/img/blog/blog8.10.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(d)</center> </div> </div> <div class="caption"> <em>Figure 3:</em> Choropleth plots showing (a) the number of customers, (b) the average age of customer, (c) the average loan amount and (d) the average proportion of loan defaults per county in Nigeria. </div> <h3 id="43-temporal-analysis">4.3. Temporal analysis</h3> <p>As may be seen in Figure 4(a), the total number of loans issued by SuperLender has drastically increased over the years. Moreover, the average number of customers defaulting on their loans has steadily decreased since May 2016, as illustrated in Figure 4(b). It is also interesting to note that the average amount that SuperLender lends, as shown in Figure 4(c), drastically increased in August 2016. This was accompanied by a sudden increase in the average interest charged on their loans, as may be seen in Figure 4(d). These observations suggest that SuperLender has improved their operations considerably since the end of 2016 and are continuing to grow as a digital lending company in Nigeria.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.11-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.11-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.11-1400.webp"></source> <img src="/assets/img/blog/blog8.11.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(a)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.13-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.13-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.13-1400.webp"></source> <img src="/assets/img/blog/blog8.13.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(b)</center> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.12-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.12-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.12-1400.webp"></source> <img src="/assets/img/blog/blog8.12.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(c)</center> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.14-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.14-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.14-1400.webp"></source> <img src="/assets/img/blog/blog8.14.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <center>(d)</center> </div> </div> <div class="caption"> <em>Figure 4:</em> Time series plots showing (a) the number of loans issued by SuperLender, (b) the average number of loan defaults, (c) the average amount lended and (d) the average interest per loan from March 2016 to June 2017. </div> <hr> <h2 id="5-predictive-model-results">5. Predictive model results</h2> <p>The purpose of this section is to describe the predictive modelling analysis conducted in this investigation. A description of the hyperparameter tuning procedure is first described in §5.1. This is followed, in §5.2, with a discussion of the predictive capabilities of the selected learning models. And finally, in §5.3, selected learning models are used to identify the most informative features for predicting whether a customer will default on their loan.</p> <h3 id="51-hyperparameter-tuning">5.1. Hyperparameter tuning</h3> <p>A total of eight classification learning models were selected for this predictive investigation, namely the <em>Logistic Regression</em> (LR), <em>Naive Bayes</em> (NB), <em>Classification Tree</em> (CT), RF, <em>k-Nearest Neighbours</em> (kNN), AdaBoost, <em>Support Vector Machine</em> (SVM) and <em>Multi-layer Perceptron</em> (MLP) learning models. Attention then turned to (approximately) optimally tuning the hyper-parameters of each of the learning models by employing a grid-based search technique. The parameters considered in this investigation, together with the (approximately) optimal parameters found in the case of each learning model considered, are as follows:</p> <ul> <li> <strong>LR.</strong> In the case of the LR learning model, the <em>L1</em> and <em>L2</em> regularisation parameters were considered, together with the regularisation penalty. The best LR learning model employed L1 regularisation and had a regularisation penalty of $12$.</li> <li> <strong>CT.</strong> In the case of the CT learning model, the gini and entropy splitting criteria were considered and the depth of the tree was controlled by imposing a minimum sample number in each leaf. The best CT learning model employed the gini splitting criterion with a minimum of $131$ samples per leaf.</li> <li> <strong>RF.</strong> In the case of the RF learning model, the number of classification trees and the maximum feature subset considered when growing an individual tree were chosen as the appropriate set of parameters. The best RF learning mode employed $190$ classification trees, each considering two random features when growing the tree.</li> <li> <strong>kNN.</strong> In the case of the kNN learning model, the Euclidean, Manhattan and Chebyshev measures were considered as possible distance metrics weighted either uniformly or inversely by distance, together with the number of neighbours parameter. The best kNN learning model considered the ten nearest neighbours based on an uniformly weighted Manhattan distance.</li> <li> <strong>SVM.</strong> In the case of the SVM learning model, a linear, polynomial, sigmoid and <em>radial base function</em> (RBF) kernels where considered, together with the cost penalty term value. The best SVM learning model employed an RBF kernel with a cost penalty term of $1.0$.</li> <li> <strong>MLP.</strong> In the case of the MLP learning model, only network structures with at most two hidden layers and a maximum of thirty neurons (<em>i.e.</em> twice the number of input features) per hidden layer were considered. The ReLu activation function was employed in the case of each MLP structure and optimised the weights of the network according to the Adam optimisation approach. The best structure had two hidden layers, containing $13$ neurons in each layer.</li> </ul> <h3 id="52-model-performances">5.2. Model performances</h3> <p>After (approximately) optimal parameter settings had been determined, each learning model was evaluated according to the AUC, <em>Classification Accuracy</em> (CA), F1-score, precision and recall performance metrics in respect of the training set using the 10-fold cross validation splitting criterion. These results may be seen in Table 4 while the ROC for each learning model may be visualised in Figure 5. The well-known stacking method was also used to ensamble all the learning models into a single classifier, where a LR model was employed as an appropriate aggregation model. A constant model which always predicts the target variable mode was also included to serve as a benchmark.</p> <div class="caption"> <em>Table 4:</em> The performances achieved by the nine learning models and the constant model in respect of the training dataset. </div> <table> <tr> <th>Model</th> <th>AUC</th> <th>CA</th> <th>F1</th> <th>Precision</th> <th>Recall</th> </tr> <tr> <td>Stack</td> <td>0.699</td> <td>0.786</td> <td>0.731</td> <td>0.742</td> <td>0.786</td> </tr> <tr> <td>LR</td> <td>0.687</td> <td>0.782</td> <td>0.718</td> <td>0.728</td> <td>0.782</td> </tr> <tr> <td>CT</td> <td>0.681</td> <td>0.778</td> <td>0.716</td> <td>0.718</td> <td>0.778</td> </tr> <tr> <td>RF</td> <td>0.669</td> <td>0.783</td> <td>0.738</td> <td>0.739</td> <td>0.783</td> </tr> <tr> <td>NB</td> <td>0.666</td> <td>0.742</td> <td>0.743</td> <td>0.745</td> <td>0.742</td> </tr> <tr> <td>MLP</td> <td>0.663</td> <td>0.770</td> <td>0.729</td> <td>0.721</td> <td>0.770</td> </tr> <tr> <td>SVM</td> <td>0.619</td> <td>0.781</td> <td>0.687</td> <td>0.660</td> <td>0.781</td> </tr> <tr> <td>AdaBoost</td> <td>0.554</td> <td>0.696</td> <td>0.696</td> <td>0.696</td> <td>0.696</td> </tr> <tr> <td>kNN</td> <td>0.534</td> <td>0.745</td> <td>0.687</td> <td>0.656</td> <td>0.745</td> </tr> <tr> <td>Constant</td> <td>0.500</td> <td>0.782</td> <td>0.687</td> <td>0.612</td> <td>0.782</td> </tr> </table> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.15-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.15-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.15-1400.webp"></source> <img src="/assets/img/blog/blog8.15.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 5:</em> An ROC plot showing the performance of the nine learning models and the constant model considered for predicting whether a customer will default on their loan. </div> <p>As may be seen from the table, the best performing individual learning model was the LR model achieving an AUC performance of $0.687$, followed closely by the CT model with an AUC of $0.681$. The kNN was the performing learning model achieving an AUC of only $0.534$. The stack learning model ensamble managed to outperform each individual learning model, as expected. This learning model was then used to predict the testing set target variable. These predicted test results were then submitted to the Zindi Data Science Nigeria Challenge <d-cite key="Zindi2020"></d-cite> where the proposed predictive model ranked tied 43<sup>rd</sup> on the global rankings with a predictive accuracy score of $0.22$, as may be seen in Figure 6.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.16-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.16-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.16-1400.webp"></source> <img src="/assets/img/blog/blog8.16.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 6:</em> The global ranking of the stacked learning model on the Zindi Data Science Nigeria Challenge. </div> <h3 id="53-model-interpretations">5.3. Model interpretations</h3> <p>Due to the inherent algorithmic structure, learning models can either be white-box or black-box in nature. In a white-box learning model, one can clearly follow the logical rules produced by the model when classifying a specified instance. The rule formulation of a black-box learning model, on the other hand, cannot be interpreted meaningfully by humans. The rule formulation of the LR learning model (a white-box learning model) may, for example, be represented in the form of a <em>nomogram</em>, as illustrated in Figure 7. A nomogram is a diagram that visually represents the rule formulation of selected classifiers by offering an insight into how the values of multiple attributes impact the overall target class probabilities. This is achieved by representing each attribute as a scale, where each point on this scale represents a single value assumed by a feature and the length of a scale signifies the importance of these feature values when describing the value of the target attribute. Features are ranked in descending order on the left-hand axis according to a feature’s absolute importance (<em>i.e.</em> the length of its scale) and the individual dashes (<em>i.e.</em> points) on each explanatory feature scale signifies the importance of the corresponding feature categories when predicting the value <code class="language-plaintext highlighter-rouge">bad</code> of the <code class="language-plaintext highlighter-rouge">good_bad_flag</code> target variable. In other words, according to the LR model, a dash that lies at the right-most end of a scale signifies an feature value that is the most telling of a customer that defaults on their loan. The inverse is also true: A dash that lies at the left-most end of a scale signifies a feature value which is the most telling of a customer who does not default on their loan. The inverse is also true: A dash that lies at the left-most end of a scale signifies a feature value which is the most telling of a customer who does not default on their loan.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.17-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.17-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.17-1400.webp"></source> <img src="/assets/img/blog/blog8.17.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 7:</em> The nomogram corresponding to the best performing LR learning model. </div> <p>From Figure 7, one may conclude that the most informative feature for the LR learning model was <code class="language-plaintext highlighter-rouge">bank_name_clients</code>, where customers who bank with <code class="language-plaintext highlighter-rouge">Sterling Bank</code> or <code class="language-plaintext highlighter-rouge">Skye Bank</code> are identified as the most likely to default on their current loan. This observation is in agreement with the distribution results observed in Figure 2(d). The second most informative feature is <code class="language-plaintext highlighter-rouge">term_days</code>, which suggests that customers who take out a longer loan term are more likely to default on their current loan. The third most informative feature is <code class="language-plaintext highlighter-rouge">employment_status_clients</code> which suggests that <code class="language-plaintext highlighter-rouge">Retired</code> customers are more likely to default on their current loan. The fourth most informative feature is <code class="language-plaintext highlighter-rouge">loan_amount</code>, which suggests that customers who take out smaller loan amounts are more likely to default on their current loan. The fifth most informative feature is <code class="language-plaintext highlighter-rouge">prop_default_loan</code> and suggests that customers who have defaulted on a higher proportion of their previous loans are more likely to default on their current loan.</p> <p>The rule formulation of the CT learning may be seen in the form of a decision tree in Figure 8. As may be seen in the figure, the CT selected to branch first on the <code class="language-plaintext highlighter-rouge">prop_default_loan</code> feature and suggests that customers who have previously defaulted on a larger proportion of their loans are more likely to default on their current loan. The second right-most CT branch then selected to branch on the <code class="language-plaintext highlighter-rouge">loan_amount</code> feature and suggests that customers who take out loans less than or equal to $10\,000$ Nigerian naira.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.18-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.18-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.18-1400.webp"></source> <img src="/assets/img/blog/blog8.18.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 8:</em> The decision tree corresponding to the best performing CT learning model. </div> <hr> <h2 id="6-conclusion">6. Conclusion</h2> <p>In this final concluding section, sensible recommendations are provided to SuperLender in §6.1 based on the investigations conducted in this report. The focus then shifts in §6.2 to a discussion of possible additional sources of data which may enhance a learning model’s predictive performance as well as possible future work which may be pursued to further improve the data mining procedure conducted in this report. This section concludes in §6.3 with feedback from the author regarding the assessment.</p> <h3 id="61-recommendations">6.1. Recommendations</h3> <p>Following the analysis conducted in this report, a set of recommendations may be provided to SuperLender. Customers are more likely to default on their loans if:</p> <ol> <li>they have defaulted on more than half of their previous loans,</li> <li>they are either retired, a student or unemployed,</li> <li>they are loaning smaller sums of money (less than $20\,000$ Nigerian naira),</li> <li>they have requested a longer loan repayment term,</li> <li>they currently bank with Sterling Bank or Skye Bank,</li> <li>they are being charged higher interest on their loan per day, and/or</li> <li>they are located in the Ogun, Lagos, Osun, Ekiti, Ondo, Edo and Nassarawa states.</li> </ol> <p>Furthermore, SuperLender, as a whole, is continuing to grow as a digital lending company in Nigeria. It is, however, surprising that SuperLender does not have a significant number of customers in Abuja as well as in the northern Nigerian states, as previously seen in Figure 3(a). These regions contain higher population densities, as may be seen in Figure 9, and may provide SuperLender with opportunity for further growth.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blog/blog8.19-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blog/blog8.19-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blog/blog8.19-1400.webp"></source> <img src="/assets/img/blog/blog8.19.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> <em>Figure 9:</em> The population density of the various Nigerian counties <d-cite key="Population2020"></d-cite>. </div> <h3 id="62-future-work">6.2. Future work</h3> <p>Ideally, if further demographics external data were available, arguably the most informative would be the income earnings per customer as this information would better indicate the ability of a customer to repay their loan. Alternatively, since the latitude and longitude positions of each customer are provided, further features may be created by geocoding their position based on regional census data, for example, the average income earned in a region. Additional information, for example, a customer’s income spending ratio, net worth, and number of dependants, would likely also enhance the learning models’ predictive abilities.</p> <p>During this report, eight supervised learning algorithms were evaluated according to their ability to predict the whether a SuperLender customer would default on their loan. It was found that the CT and RF learning model performed significantly better than the other learning models — a finding which begs the question whether other tree-based/ensemble learning models may also achieve similar or superior performance in this context. Consequently, it may be worthwhile investigating the predictive performance of gradient-boosted decision trees (or XGBoost) <d-cite key="Cutler2011"></d-cite> learning model. Other promising deep learning models include the newly proposed neural architecture search method <d-cite key="Jin2019, Zoph2016"></d-cite> which implicitly determines a near-optimal neural network structure and weights in a single optimisation procedure.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/bibliography.bib"></d-bibliography> <div id="giscus_thread" style="max-width: 950px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"shanevanheerden/shanevanheerden.github.io","data-repo-id":"R_kgDOHll7zA","data-category":"Comments","data-category-id":"DIC_kwDOHll7zM4CWO-7","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Shane van Heerden. Last updated: January 18, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-T5QSVR2X6Z"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-T5QSVR2X6Z");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>